apiVersion: v1
kind: ConfigMap
metadata:
  name: dex
data:
  config.yaml: |
    issuer: http://dex.auth.svc.cluster.local:5556/dex
    storage:
      type: kubernetes
      config:
        inCluster: true
    web:
      http: 0.0.0.0:5556
    logger:
      level: "debug"
      format: text
    oauth2:
      skipApprovalScreen: true
      responseTypes:
      - code
      alwaysShowLogInScreen: false
    frontend:
      issuer: The AI Platform
    enablePasswordDB: false
    staticClients:
    - id: kubeflow-oidc-authservice
      redirectURIs:
      - "/login/oidc"
      name: 'Dex Login Application'
      secret: pUBnBOY80SnXgjibTYM9ZWNzY2xreNGQok
    connectors:
    - type: ldap
      id: ldap
      name: MITRE LDAP
      config:
        host: uds.mitre.org:636
        rootCAData: IyMKIyMgQnVuZGxlIG9mIE1JVFJFIENBIFJvb3QgQ2VydGlmaWNhdGVzCiMjCiMjIEl0IGNvbnRhaW5zIHRoZSBjZXJ0aWZpY2F0ZXMgaW4gUEVNIGZvcm1hdCBhbmQgdGhlcmVmb3JlCiMjIGNhbiBiZSBkaXJlY3RseSB1c2VkIHdpdGggY3VybCAvIGxpYmN1cmwgLyBwaHBfY3VybCwgb3Igd2l0aAojIyBhbiBBcGFjaGUrbW9kX3NzbCB3ZWJzZXJ2ZXIgZm9yIFNTTCBjbGllbnQgYXV0aGVudGljYXRpb24uCiMjIEp1c3QgYWRkIHRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgdG8gdGhlIFNTTENBQ2VyZmlmaWNhdGVGaWxlCiMjIHdoaWNoIGNhbiBiZSBmb3VuZCB1c2luZyBgY3VybC1jb25maWcgLS1jYWAKIyMKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZDekNDQXZPZ0F3SUJBZ0lRZFZRTXhJZldYcXhLMU0xUEtZVktVREFOQmdrcWhraUc5dzBCQVFVRkFEQVkKTVJZd0ZBWURWUVFERXcxTlNWUlNSU0JDUVNCU1QwOVVNQjRYRFRFeE1Ea3hOREl6TkRBME5sb1hEVEl4TURreApOREl6TlRBME5Gb3dHREVXTUJRR0ExVUVBeE1OVFVsVVVrVWdRa0VnVWs5UFZEQ0NBaUl3RFFZSktvWklodmNOCkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFLQ2ZFU2xERktBdWN4VVNEOUEzejQwQ1FRTEJRSU5HUU44UTZjWWEKMkNRNTI2dWU3TGFCMHZYL0lwUDdqTnhsUU9uWU9kKzlCNDdoRTdJb0s4TUpoaVV2cTB0Ti80dWs1U1JzbHFnNApFb05VVi9QcHY5TGtDUWduR1FEWHRXeHFNZ1g0Z1BBUnRTWTdNb1pWZ0JBV3k2aFV6Ui80Zm1hcUhkTHJpOTZ2CmlOS25PVDlTNS9ERFRMMDZ6Z3ZZVjRGdjlSS0lkZ2I5b05pRWxmOEF2VlJKRmR1c2RXUklKbVJWTkVTKytXR08KMktiaE5GcG4wVDkvUkc5QmxLUmNHNHRqZkxNclJLNk9wV0pXa0crcVAxaGYxYWhURjNYaHdUN2wrTS9Bbi83VwpvM05NQVR0YWtQcU1pVnREOEdmRzl2cnkxQ3NqWVFtWEFPczh5NTF2YUN4bTlxZE5TbG5mazRDeTFIOWVqZSt2CkpWUnRFdytSTjdrOTZTVDQ3aGFLekFFYVY4YlVWZk5ZdE8wSVV2QWQ2MVF2T2tUMGlEb0tHMlg1SkVkSEliSGEKMEN1YnkrTG1KY3EvRkhIUW9tSi9OTmVVTklROWQwMUc0ZC9TSXUxaEswVWlzYTBRekorUHRBS0JlZU9Cb3VJZwpxNy93TnluamFMeUoreXUrcmVVdHRjMzc5SjlaMHNuUFplYXpaMmoxanJZVTYzaFkwNEUrVldDWXovWEdhL3ZhClZLbThnUnBqamVySFJFUlh4K1dBOFl6azFKaVFVQmZTWEpGZUZzbTBkb3BQUXhZbTdFSGZqMk5pcmszTWlsV3YKVlpFbnVyZWg2dFRXTnF0RUlqNWRDQkNBVkliUE9kSW55azZ0M2x3SGw1TlIvbHhvSyszNEhqR2RScmorZUtveQp1bTRaQWdNQkFBR2pVVEJQTUFzR0ExVWREd1FFQXdJQmhqQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CMEdBMVVkCkRnUVdCQlIzQnlzSExYWFVLdFZ5bCtYQjYrZmdWTzJ2b2pBUUJna3JCZ0VFQVlJM0ZRRUVBd0lCQURBTkJna3EKaGtpRzl3MEJBUVVGQUFPQ0FnRUFOMjM2RVM2QjhyUzRDLzZsVUd1b3l1dTBlTnM2VkN2NFRVN2JxZ0NhaXhzbApSTXdNK1huQmo4b01tTUtLUmpWWEs2N2lZK2IwK3VqNWgyL1UwbE80OUIvMlRZTmE0dUJtaVZnNW8yekQ4UUIwClJiZC9HRTgzb0E4QU0xblhYNVhjVnM3MzZRNUFkLy9MVmhpQzlUWjNVT2h5RzcwOEhNMjZJRzcxWlhlS0NSVzQKbVRvek1rN2h4TWFUM0gwLzEvRjBrMFJCcGNDd1I3TWxpb1lDaWdXcitDbzBpeFc1LzRNTndoOG9XTkY2V09KaQo1UjNnc3RkSGp0YXJYRFZDcVo3a3luUGkyenUvekhFMFp4MENoQ214Q05WNzBUNzBPZ09KdTJZUzltNlY3OFZmCjJWWEJIOWY0TGZpRFBDakhiL2ozV2M1Z3JrZ2NMcmFZaTZCa3BhV0t2RldHaUQ1YzFkOUxqeG5pM1g1UE1oR3EKK281NnU2ZDBGenFCQmZ6YXNDQmFtTkFKQTNOVjk3RGI3cGNIa0ROZTNRSGptdDlqaTJ2dWNKVTliUDQ4TjgxQwpHcmhrKzdBSS9td3ZMOEdINitLQzlyOHkvMlRhdU9kRDBKeUlHeHB4c3pTN1NGZld5cjdoMkdFNW9CWEFZQVhFCjVhTDN3SjQ3dkdsTjlGWmNpQXJEK3A1ZFBjdjladi96aGNmcXlONlk2bHRhWURjR3o2ZFZ4WGovMDFBK3VZS1gKSXlWV0xBckxtZkFINmZwL1FwY3FyUWFMVEFXU3A2MGF3WnJzcGR1eXRITGo0MzZNSWw4cGxnOUtxSFRRTGEyNApWNEpSU1o4aVNHSCtnb3Y0bWFQcTVLMGNyRWFGb3FMRUQrUUFLWGw1WXZHV0MvV2gyTXJLOWFFcDFlbGRpeUk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZMRENDQXhTZ0F3SUJBZ0lLWVFRc0xRQUFBQUFBQnpBTkJna3Foa2lHOXcwQkFRVUZBREFZTVJZd0ZBWUQKVlFRREV3MU5TVlJTUlNCQ1FTQlNUMDlVTUI0WERURTFNREl3TnpBek1UYzBOVm9YRFRJd01ESXdOekF6TWpjMApOVm93U0RFVE1CRUdDZ21TSm9tVDhpeGtBUmtXQTA5U1J6RVZNQk1HQ2dtU0pvbVQ4aXhrQVJrV0JVMUpWRkpGCk1Sb3dHQVlEVlFRREV4Rk5TVlJTUlNCQ1FTQk9VRVVnUTBFdE1UQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQUQKZ2dFUEFEQ0NBUW9DZ2dFQkFLMmQ4c2F2TmEyNHBPK2dXZE9abFZVUVA5YnN2WW84Z3hjdFdwSHowU1Z0c3pxMApZUGVzbG9LZkR0c1ZOcWdueWx5MGhkcEU5QWFNaW96WmdUMEU4SVZ3REY5RkN4Tm1jSWRNcHAyVDFSTW84MkRiCmphV0ZOZ1Zidkc5OEFXcHIxQW53Zmt4aDBQMFoxTm4raUJERmp4aHRzWVZKa2E1ejdWNGRybTkzMlFLVzI4a1oKUTU3cjZmVDJvNlFXRXcvNFhvcm1EcGVtVG12dnh3Mmh5ZnIwYlBpcEg4cTVvOEtDSnhNR0pnY0h5S0pkNXNEaQpsakRBZlVieFBRdzVLOFZWRSs0eHhLZ0RUcmVKUktnL1RUMUhLeUN5YUc2OVp4YXZuYlFRR2lrQjNpUHdRUllHCmRFa0p0S2s2bEE3T1JtUUM4alhWRnJiKzRFUE5kczZ6b3VFVmtTa0NBd0VBQWFPQ0FVWXdnZ0ZDTUJBR0NTc0cKQVFRQmdqY1ZBUVFEQWdFQk1DTUdDU3NHQVFRQmdqY1ZBZ1FXQkJUYmJabXJlemttcG9jNDJKSUhNUlU5YzdGZwpkVEFkQmdOVkhRNEVGZ1FVc0cwU1AyZW5xTjZiOXpaNi9hSWs2NERibHhzd0dRWUpLd1lCQkFHQ054UUNCQXdlCkNnQlRBSFVBWWdCREFFRXdDd1lEVlIwUEJBUURBZ0dHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SHdZRFZSMGoKQkJnd0ZvQVVkd2NyQnkxMTFDclZjcGZsd2V2bjRGVHRyNkl3T3dZRFZSMGZCRFF3TWpBd29DNmdMSVlxYUhSMApjRG92TDNCcmFTNXRhWFJ5WlM1dmNtY3ZUVWxVVWtVbE1qQkNRU1V5TUZKUFQxUXVZM0pzTUZNR0NDc0dBUVVGCkJ3RUJCRWN3UlRCREJnZ3JCZ0VGQlFjd0FvWTNhSFIwY0RvdkwzQnJhUzV0YVhSeVpTNXZjbWN2VFZORFFVSkIKVDBaR1VGSkVYMDFKVkZKRkpUSXdRa0VsTWpCU1QwOVVMbU55ZERBTkJna3Foa2lHOXcwQkFRVUZBQU9DQWdFQQpac0FySUFUWlJIZVkrQkJVZDgrSTUySE5xRGNDYlhaUUg2UUhqR2FCZ0tvVG9oR2U1aVhpVlNPM2cyUTVEMTN6CkMrOXV0YUZBMiszeDNJVmcyNXNvd2NyYld2TFlaSlByNWt0VUs5WkI5aGZJYUxEckl3bHpZeFVSeENkTGRYbUgKRklMVEhkVVpIbVFHbGVBbDFBcVBodU1rR1dGQTVkMjRGRlg1UTJ1K2E5WmM2T3ZuRnpJWUJBeTdOaXFOOE1QawphTjI5OGpMcUh5Q0FuSDRZQ2E3R0d3VmVFU1AvMTNNaDZpSHBNRW1ZeTVRVFkxTDRnWjZYSUo2RkozVmRPbW1FCllmYi8vUFp2a0R2ZTBCUVdLelJoTzNFaWt6YnBjNktWWEZIcGdDK0lhL2M4N2NUcW5QQ1A4cmVjUE1zMmVjeW8KdG1rblFmZDBXUVY2RDA4M2xJSVFPMGZTU3MyZk5sSVhqNHM1cVlLMDNZMHZnUVIyeE1yVVF0WmwxWG9MejZVRwpLV2dsSEpLVnFzMnV4Nm5yM255YnhBTHNQTi9QSm9iYlRoSVJDaTcyZ2ZMUnJTMFhMSHY3dGoyM1FKTEt0YTkwCnBzLzJmVnIwNGp0eEFRS0Nsa29LS2NuUlJ2WlFZYktwRGpDbXBzVno2T0xyc1FNUmRUR3dyem1PTzNrbVRlK0cKaGZyWGxQR0orMWhNMHdsemZLaHZWS2ZZZHZWeVA3S0NwbG1UZlFDNWNIMkZyblYzSmVqcVZZUHprckN2R0pyZgpNZC9JZVorZ05hMWllc2htaU9JRGo3Z2RHNWZHTlV6U3VyYjc0NmNzMXJONjdVcHhJVnBPdi9NRitVYnlrQmZyCjMzK0Nyem1IOTR1RVJ1NWJ0SlRrM0pxM3lTam80VW9mdERrRDAzTmc4Um89Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdCekNDQSsrZ0F3SUJBZ0lLWVdTeHBnQUFBQUFBRERBTkJna3Foa2lHOXcwQkFRMEZBREFZTVJZd0ZBWUQKVlFRREV3MU5TVlJTUlNCQ1FTQlNUMDlVTUI0WERURTFNRGd5TlRJd016WTFORm9YRFRJd01EZ3lOVEl3TkRZMQpORm93U0RFVE1CRUdDZ21TSm9tVDhpeGtBUmtXQTA5U1J6RVZNQk1HQ2dtU0pvbVQ4aXhrQVJrV0JVMUpWRkpGCk1Sb3dHQVlEVlFRREV4Rk5TVlJTUlNCQ1FTQk9VRVVnUTBFdE16Q0NBaUl3RFFZSktvWklodmNOQVFFQkJRQUQKZ2dJUEFEQ0NBZ29DZ2dJQkFLM0s2QnFUQWxvSWdLcXpYbnAvclFyYTJCSmNYYVhRQi9YWGFKUHJOVllHQXNhNwpIaDNudnp0dmZ0RlNSb09zbnFiN2hScTY3aTVhM0k0M1U1Y3ZnOS96Z3dmeDNreVNPR2QvZTNNZVRLRlNRd09xCklzd29Yem5mK1BHN01JRlVnYUVmMmcwam5GekNHUTE2VHlJbi8zanJwQjdLL3RNZSszaHRiM1BLejJudmxiQ2IKeDY2VUpMOVROYXdNWkxDa3FLSVF6ME1rUlN1MzVTS0xDL1VtUGxvdHVBSUJyRHdVVVk5cDEvdzlsOXBaM3FOOQpYOGxtYUIxR3YxaUZrbE81UWI2bC91d1lyWmJ0cmdSdENUSXJGeGpqcm5YM21udUREcTNLbXQ4ZUl1aUNKZW5QCjZzckEyT25PWm5CcVY5WVp3S1NnMzFHb1oyQzlMUmNTTWJXTlhLRkE5S1dkQ3BaSk1hTDBjZTdwbmxEeFNTMG8Kb1RLMnNodGNEYTRpNUJOL1dFTDI2MjFyU0RMQlVZU2srZkZKSUJTK0RIWEFYUDJUWFJoVERoc3lXdi8xZkgxaQpNdmFvQi9ScmhBcUJvMzU1SDFtQ0xNcTJFU2VCNG9CeGZXZkcwcUJlVFdTdjRGWTQ1OW5sdFpxTG5rUXN5Yi80Cm1vT1RNc2lteks0OWpod08rY2tRMEwvc3BDa01DbmQxRGxxU1dpczVWb0xXQmYzUkd3OUQ3SU9CdDh5WWJZbkwKWlhxd1liYVkwMFMvQ0l0TmRYOU5Ba2tjZ2VDek5tTURZZEZTWU1UVWFTeXlqVnhFOWNTY09GWWtVRUJubFJSTApNNFp2WFFVZlFlbVJlQUFuSFRmYVRXUzRGcDdhQytIcE1BUlh2c3RHc2VPSFFUR2hwYWNIQXhwbi9tTjlBZ01CCkFBR2pnZ0VoTUlJQkhUQVFCZ2tyQmdFRUFZSTNGUUVFQXdJQkFEQWRCZ05WSFE0RUZnUVVmKzlMY0FYSTFoQlkKUnFtQnN1ZmltaUg1M3d3d0dRWUpLd1lCQkFHQ054UUNCQXdlQ2dCVEFIVUFZZ0JEQUVFd0N3WURWUjBQQkFRRApBZ0dHTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SHdZRFZSMGpCQmd3Rm9BVWR3Y3JCeTExMUNyVmNwZmx3ZXZuCjRGVHRyNkl3T3dZRFZSMGZCRFF3TWpBd29DNmdMSVlxYUhSMGNEb3ZMM0JyYVM1dGFYUnlaUzV2Y21jdlRVbFUKVWtVbE1qQkNRU1V5TUZKUFQxUXVZM0pzTUZNR0NDc0dBUVVGQndFQkJFY3dSVEJEQmdnckJnRUZCUWN3QW9ZMwphSFIwY0RvdkwzQnJhUzV0YVhSeVpTNXZjbWN2VFZORFFVSkJUMFpHVUZKRVgwMUpWRkpGSlRJd1FrRWxNakJTClQwOVVMbU55ZERBTkJna3Foa2lHOXcwQkFRMEZBQU9DQWdFQVRRL0U3NzhlcStXS044RjlBa2lqczM2Qm1ZWUkKeG9hejNYT3dvUTNETUFBRnNaUEVFaTM0Wm1sOVBaOGRpSjVxaGhPcDZNT21ZY1FiRU00bjRqcjNlQjZJYmNLYwpVaFhIMEhObDhEUEVkQk4wYUgyOVc3b2V4SEJGTW4veGtJbFFJcXpTR0h3RUhLUVZ3eU9XZ0EwL1ZrSE9oQWR4CnY3Yk8vRTFpWjhNL2dvQmJuVk9uN3Rpdk1XTXE1RHV0cmNzZjhhL1J3MktoU0JRMzhnTEpkdHAvdktLaTQvOGUKYmJSR2ZFT3owZHJveWh6N1ZDVjNEdXViVnpKbk5kYno5UmY2dmxoRHpybGNQb0Z5ZENWWHVVSGJacmRjQkFDNwpCMWYwTkhmMDR4QU1vMXEvN2lucmorZTFWU1NUTjI3UzVHT3A2MW43N1hwblpYdXMveWp6VmhHRWo0T05tSC9uCmRtKzI0dnM3NzBHeVg4V0RONjZ0VDJITHg5S2kwNEtxaHVRS3F3dFhTckc4MkdnWWxmMWtGS0J1NElXU2s5YlMKY2FRdE5RaFFHaVZRYUZsNTdmbFZsaTdRZFZ6d0x1bTd2WlZRS0JicEdyRUxlZWkwYkxMZUFlTitHTjJ3cDdwbwphVTBuVmVTMCtqbHpoZ2RMdjFzWXZKZmcxVGFWeURXNUtTb04zWTdEcTdpbUdXOEw4MVFnOE5wV2JvazNJR3EzCjVWcldmVzZjUWNOV05nQWI5QTNvWE1zaHMxN0tpVGRoVW1WQlVFaE1SMWZHdWFCbFRDOGdkeURuUTFpVWdQRTMKdXFUZ3grZm9JZlJtRUx0ckhodGdIU3M0Wld1RVdZdjBLVjlPSmJpbEM2Ymk3TXBzdE9mV2FoRlBrYkVpaTdodwo2cmphajcxeEw2OVBwdFE9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
        bindDN: CN=svcAIPOVD,OU=IDM_MANAGED,OU=Application Accounts,DC=MITRE,DC=ORG
        bindPW: skluQVpZU30?_p(,
        usernamePrompt: MITRE Username (SUI)
        userSearch:
          baseDN: ou=people,dc=mitre,dc=org
          filter: "(objectClass=inetOrgPerson)"
          username: uid
          idAttr: uid
          emailAttr: mail
          nameAttr: givenName
        groupSearch:
          baseDN: dc=mitre,dc=org
          filter: "(objectClass=group)"
          userAttr: DN
          groupAttr: member
          nameAttr: cn
